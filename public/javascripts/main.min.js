function reset(){hero.x=canvas.width/2,hero.y=canvas.height/2,monster.x=32+Math.random()*(canvas.width-96),monster.y=32+Math.random()*(canvas.height-96)}function update(a){37 in keysDown&&hero.x>32&&(hero.x-=hero.speed*a),38 in keysDown&&hero.y>32&&(hero.y-=hero.speed*a),39 in keysDown&&hero.x<canvas.width-64&&(hero.x+=hero.speed*a),40 in keysDown&&hero.y<canvas.height-64&&(hero.y+=hero.speed*a),hero.x<=monster.x+32&&monster.x<=hero.x+32&&hero.y<=monster.y+32&&monster.y<=hero.y+32&&(++monstersCaught,reset())}function render(){ctx.drawImage(bgImage,0,0),ctx.drawImage(hero.image,hero.x,hero.y),ctx.drawImage(monster.image,monster.x,monster.y),ctx.fillStyle="rgb(250, 250, 250)",ctx.font="24px Inconsolata",ctx.textAlign="left",ctx.textBaseline="top",ctx.fillText("Monsters caught: "+monstersCaught,32,32)}function main(){var a=Date.now();if(then){var b=a-then;update(b/1e3),render()}then=a,requestAnimationFrame(main)}var ctx,bgImage,then,canvas,keysDown={},bgReady=!1;$(document).ready(function(){io();bgImage=new Image,bgImage.src="/images/background.png",hero.image.src="/images/hero.png",monster.image.src="/images/monster.png",canvas=$("#canvas")[0],ctx=canvas.getContext("2d"),$(document).keydown(function(a){keysDown[a.keyCode]=!0}),$(document).keyup(function(a){delete keysDown[a.keyCode]}),reset(),main()});var hero={image:new Image,speed:256,x:0,y:0},monster={image:new Image,x:0,y:0},monstersCaught=0;